{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useAuth } from '../contexts/AuthContext';\nimport React from 'react';\nexport const usePermissions = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n\n  // Debug logging\n  React.useEffect(() => {\n    if (currentUser) {\n      console.log('Current user in usePermissions:', currentUser);\n      console.log('User role:', currentUser.role);\n      console.log('User permissions:', currentUser.permissions);\n    }\n  }, [currentUser]);\n  const hasPermission = permission => {\n    if (!currentUser || !currentUser.permissions) {\n      return false;\n    }\n    return currentUser.permissions[permission] === true;\n  };\n  const hasRole = role => {\n    if (!currentUser) {\n      return false;\n    }\n    return currentUser.role === role;\n  };\n  const hasAnyRole = roles => {\n    if (!currentUser) {\n      return false;\n    }\n    return roles.includes(currentUser.role);\n  };\n  const canManageUsers = () => hasPermission('canManageUsers');\n  const canViewAllUsers = () => hasPermission('canViewAllUsers');\n  const canEditUserRoles = () => hasPermission('canEditUserRoles');\n  const canManageAllProjects = () => hasPermission('canManageAllProjects');\n  const canCreateProjects = () => hasPermission('canCreateProjects');\n  const canEditOwnProjects = () => hasPermission('canEditOwnProjects');\n  const canDeleteProjects = () => hasPermission('canDeleteProjects');\n  const canViewAllProjects = () => hasPermission('canViewAllProjects');\n  const canManageAllTasks = () => hasPermission('canManageAllTasks');\n  const canCreateTasks = () => hasPermission('canCreateTasks');\n  const canEditOwnTasks = () => hasPermission('canEditOwnTasks');\n  const canDeleteTasks = () => hasPermission('canDeleteTasks');\n  const canViewAllTimeEntries = () => hasPermission('canViewAllTimeEntries');\n  const canEditAllTimeEntries = () => hasPermission('canEditAllTimeEntries');\n  const canDeleteTimeEntries = () => hasPermission('canDeleteTimeEntries');\n  const canManageBreaks = () => hasPermission('canManageBreaks');\n  const canManageTeams = () => hasPermission('canManageTeams');\n  const canInviteUsers = () => hasPermission('canInviteUsers');\n  const canAssignRoles = () => hasPermission('canAssignRoles');\n  const canViewAllReports = () => hasPermission('canViewAllReports');\n  const canViewTeamReports = () => hasPermission('canViewTeamReports');\n  const canExportReports = () => hasPermission('canExportReports');\n  const canManageSettings = () => hasPermission('canManageSettings');\n  const canAccessKiosk = () => hasPermission('canAccessKiosk');\n  const isAdmin = () => hasRole('admin');\n  const isManager = () => hasRole('manager');\n  const isMember = () => hasRole('member');\n  const isAdminOrManager = () => hasAnyRole(['admin', 'manager']);\n  return {\n    hasPermission,\n    hasRole,\n    hasAnyRole,\n    canManageUsers,\n    canViewAllUsers,\n    canEditUserRoles,\n    canManageAllProjects,\n    canCreateProjects,\n    canEditOwnProjects,\n    canDeleteProjects,\n    canViewAllProjects,\n    canManageAllTasks,\n    canCreateTasks,\n    canEditOwnTasks,\n    canDeleteTasks,\n    canViewAllTimeEntries,\n    canEditAllTimeEntries,\n    canDeleteTimeEntries,\n    canManageBreaks,\n    canManageTeams,\n    canInviteUsers,\n    canAssignRoles,\n    canViewAllReports,\n    canViewTeamReports,\n    canExportReports,\n    canManageSettings,\n    canAccessKiosk,\n    isAdmin,\n    isManager,\n    isMember,\n    isAdminOrManager\n  };\n};\n_s(usePermissions, \"xjsLPzeME42BR/7KHmUJuKuu2iw=\", false, function () {\n  return [useAuth];\n});","map":{"version":3,"names":["useAuth","React","usePermissions","_s","currentUser","useEffect","console","log","role","permissions","hasPermission","permission","hasRole","hasAnyRole","roles","includes","canManageUsers","canViewAllUsers","canEditUserRoles","canManageAllProjects","canCreateProjects","canEditOwnProjects","canDeleteProjects","canViewAllProjects","canManageAllTasks","canCreateTasks","canEditOwnTasks","canDeleteTasks","canViewAllTimeEntries","canEditAllTimeEntries","canDeleteTimeEntries","canManageBreaks","canManageTeams","canInviteUsers","canAssignRoles","canViewAllReports","canViewTeamReports","canExportReports","canManageSettings","canAccessKiosk","isAdmin","isManager","isMember","isAdminOrManager"],"sources":["C:/Users/gites/Desktop/time Machine/time-tracker/frontend/src/hooks/usePermissions.js"],"sourcesContent":["import { useAuth } from '../contexts/AuthContext';\r\nimport React from 'react';\r\n\r\nexport const usePermissions = () => {\r\n  const { currentUser } = useAuth();\r\n\r\n  // Debug logging\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      console.log('Current user in usePermissions:', currentUser);\r\n      console.log('User role:', currentUser.role);\r\n      console.log('User permissions:', currentUser.permissions);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const hasPermission = (permission) => {\r\n    if (!currentUser || !currentUser.permissions) {\r\n      return false;\r\n    }\r\n    return currentUser.permissions[permission] === true;\r\n  };\r\n\r\n  const hasRole = (role) => {\r\n    if (!currentUser) {\r\n      return false;\r\n    }\r\n    return currentUser.role === role;\r\n  };\r\n\r\n  const hasAnyRole = (roles) => {\r\n    if (!currentUser) {\r\n      return false;\r\n    }\r\n    return roles.includes(currentUser.role);\r\n  };\r\n\r\n  const canManageUsers = () => hasPermission('canManageUsers');\r\n  const canViewAllUsers = () => hasPermission('canViewAllUsers');\r\n  const canEditUserRoles = () => hasPermission('canEditUserRoles');\r\n  \r\n  const canManageAllProjects = () => hasPermission('canManageAllProjects');\r\n  const canCreateProjects = () => hasPermission('canCreateProjects');\r\n  const canEditOwnProjects = () => hasPermission('canEditOwnProjects');\r\n  const canDeleteProjects = () => hasPermission('canDeleteProjects');\r\n  const canViewAllProjects = () => hasPermission('canViewAllProjects');\r\n  \r\n  const canManageAllTasks = () => hasPermission('canManageAllTasks');\r\n  const canCreateTasks = () => hasPermission('canCreateTasks');\r\n  const canEditOwnTasks = () => hasPermission('canEditOwnTasks');\r\n  const canDeleteTasks = () => hasPermission('canDeleteTasks');\r\n  \r\n  const canViewAllTimeEntries = () => hasPermission('canViewAllTimeEntries');\r\n  const canEditAllTimeEntries = () => hasPermission('canEditAllTimeEntries');\r\n  const canDeleteTimeEntries = () => hasPermission('canDeleteTimeEntries');\r\n  const canManageBreaks = () => hasPermission('canManageBreaks');\r\n  \r\n  const canManageTeams = () => hasPermission('canManageTeams');\r\n  const canInviteUsers = () => hasPermission('canInviteUsers');\r\n  const canAssignRoles = () => hasPermission('canAssignRoles');\r\n  \r\n  const canViewAllReports = () => hasPermission('canViewAllReports');\r\n  const canViewTeamReports = () => hasPermission('canViewTeamReports');\r\n  const canExportReports = () => hasPermission('canExportReports');\r\n  \r\n  const canManageSettings = () => hasPermission('canManageSettings');\r\n  const canAccessKiosk = () => hasPermission('canAccessKiosk');\r\n\r\n  const isAdmin = () => hasRole('admin');\r\n  const isManager = () => hasRole('manager');\r\n  const isMember = () => hasRole('member');\r\n  const isAdminOrManager = () => hasAnyRole(['admin', 'manager']);\r\n\r\n  return {\r\n    hasPermission,\r\n    hasRole,\r\n    hasAnyRole,\r\n    canManageUsers,\r\n    canViewAllUsers,\r\n    canEditUserRoles,\r\n    canManageAllProjects,\r\n    canCreateProjects,\r\n    canEditOwnProjects,\r\n    canDeleteProjects,\r\n    canViewAllProjects,\r\n    canManageAllTasks,\r\n    canCreateTasks,\r\n    canEditOwnTasks,\r\n    canDeleteTasks,\r\n    canViewAllTimeEntries,\r\n    canEditAllTimeEntries,\r\n    canDeleteTimeEntries,\r\n    canManageBreaks,\r\n    canManageTeams,\r\n    canInviteUsers,\r\n    canAssignRoles,\r\n    canViewAllReports,\r\n    canViewTeamReports,\r\n    canExportReports,\r\n    canManageSettings,\r\n    canAccessKiosk,\r\n    isAdmin,\r\n    isManager,\r\n    isMember,\r\n    isAdminOrManager\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}