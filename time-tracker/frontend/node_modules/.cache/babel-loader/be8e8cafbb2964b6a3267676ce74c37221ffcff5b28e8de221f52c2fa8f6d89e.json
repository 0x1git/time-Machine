{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gites\\\\Desktop\\\\time Machine\\\\time-tracker\\\\frontend\\\\src\\\\components\\\\timer\\\\Timer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiPlay, FiPause, FiSquare, FiClock, FiCoffee, FiCheckCircle } from 'react-icons/fi';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimerContainer = styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n`;\n_c = TimerContainer;\nconst TimerCard = styled.div`\n  background: white;\n  border-radius: 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  padding: 48px;\n  text-align: center;\n  margin-bottom: 32px;\n`;\n_c2 = TimerCard;\nconst TimerDisplay = styled.div`\n  font-size: 4rem;\n  font-weight: 700;\n  color: ${props => props.isRunning ? '#28a745' : '#2c3e50'};\n  font-family: 'Courier New', monospace;\n  margin-bottom: 32px;\n  letter-spacing: 2px;\n\n  @media (max-width: 768px) {\n    font-size: 3rem;\n  }\n`;\n_c3 = TimerDisplay;\nconst TimerControls = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n  margin-bottom: 32px;\n`;\n_c4 = TimerControls;\nconst ControlButton = styled.button`\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 24px;\n\n  &.primary {\n    background: ${props => props.isRunning ? '#dc3545' : '#28a745'};\n    color: white;\n\n    &:hover {\n      background: ${props => props.isRunning ? '#c82333' : '#218838'};\n      transform: scale(1.05);\n    }\n  }\n\n  &.secondary {\n    background: #6c757d;\n    color: white;\n\n    &:hover {\n      background: #5a6268;\n      transform: scale(1.05);\n    }\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c5 = ControlButton;\nconst TimerForm = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  max-width: 400px;\n  margin: 0 auto;\n`;\n_c6 = TimerForm;\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n`;\n_c7 = FormGroup;\nconst Label = styled.label`\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n`;\n_c8 = Label;\nconst Select = styled.select`\n  padding: 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n  }\n`;\n_c9 = Select;\nconst Input = styled.input`\n  padding: 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n  }\n`;\nconst Textarea = styled.textarea`\n  padding: 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  resize: vertical;\n  min-height: 80px;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n  }\n`;\n_c0 = Textarea;\nconst CurrentActivity = styled.div`\n  background: #e3f2fd;\n  border: 1px solid #2196f3;\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 24px;\n  text-align: left;\n`;\n_c1 = CurrentActivity;\nconst ActivityTitle = styled.div`\n  font-weight: 600;\n  color: #1976d2;\n  margin-bottom: 8px;\n`;\n_c10 = ActivityTitle;\nconst ActivityMeta = styled.div`\n  color: #666;\n  font-size: 14px;\n`;\n_c11 = ActivityMeta;\nconst BreakCard = styled.div`\n  background: ${props => props.isOnBreak ? '#fff3cd' : '#f8f9fa'};\n  border: 1px solid ${props => props.isOnBreak ? '#ffeaa7' : '#e9ecef'};\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 24px;\n  text-align: left;\n`;\nconst BreakControls = styled.div`\n  display: flex;\n  gap: 12px;\n  margin-top: 16px;\n  align-items: center;\n`;\nconst BreakButton = styled.button`\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  &.start-break {\n    background: #ff6b35;\n    color: white;\n\n    &:hover {\n      background: #e55a2b;\n    }\n  }\n\n  &.end-break {\n    background: #28a745;\n    color: white;\n\n    &:hover {\n      background: #218838;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;\nconst BreakTypeSelect = styled.select`\n  padding: 8px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  background: white;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n  }\n`;\nconst BreakStatus = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n  color: ${props => props.isOnBreak ? '#d68910' : '#28a745'};\n`;\nconst Timer = () => {\n  _s();\n  var _runningEntry$project, _runningEntry$task;\n  const [isRunning, setIsRunning] = useState(false);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const [runningEntry, setRunningEntry] = useState(null);\n  const [projects, setProjects] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [activeBreak, setActiveBreak] = useState(null);\n  const [breakType, setBreakType] = useState('other');\n  const [formData, setFormData] = useState({\n    project: '',\n    task: '',\n    description: ''\n  });\n  useEffect(() => {\n    fetchProjects();\n    checkRunningTimer();\n    checkActiveBreak();\n  }, []);\n  useEffect(() => {\n    if (formData.project) {\n      fetchTasks(formData.project);\n    } else {\n      setTasks([]);\n    }\n  }, [formData.project]);\n  useEffect(() => {\n    let interval;\n    if (isRunning && runningEntry) {\n      interval = setInterval(() => {\n        const startTime = new Date(runningEntry.startTime);\n        const now = new Date();\n        setElapsedTime(Math.floor((now - startTime) / 1000));\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isRunning, runningEntry]);\n  const fetchProjects = async () => {\n    try {\n      const response = await axios.get('/projects');\n      setProjects(response.data);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n    }\n  };\n  const fetchTasks = async projectId => {\n    try {\n      const response = await axios.get(`/tasks?project=${projectId}`);\n      setTasks(response.data);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n  const checkRunningTimer = async () => {\n    try {\n      const response = await axios.get('/time-entries/running');\n      if (response.data) {\n        var _response$data$task;\n        setRunningEntry(response.data);\n        setIsRunning(true);\n        const startTime = new Date(response.data.startTime);\n        const now = new Date();\n        setElapsedTime(Math.floor((now - startTime) / 1000));\n\n        // Populate form with running entry data\n        setFormData({\n          project: response.data.project._id,\n          task: ((_response$data$task = response.data.task) === null || _response$data$task === void 0 ? void 0 : _response$data$task._id) || '',\n          description: response.data.description || ''\n        });\n      }\n    } catch (error) {\n      // No running timer\n    }\n  };\n  const checkActiveBreak = async () => {\n    try {\n      const response = await axios.get('/breaks/active');\n      setActiveBreak(response.data);\n    } catch (error) {\n      // No active break\n    }\n  };\n  const startTimer = async () => {\n    if (!formData.project) {\n      toast.error('Please select a project');\n      return;\n    }\n    try {\n      const response = await axios.post('/time-entries', {\n        project: formData.project,\n        task: formData.task || null,\n        description: formData.description,\n        startTime: new Date().toISOString(),\n        duration: 0\n      });\n      setRunningEntry(response.data);\n      setIsRunning(true);\n      setElapsedTime(0);\n      toast.success('Timer started!');\n    } catch (error) {\n      toast.error('Failed to start timer');\n      console.error('Error starting timer:', error);\n    }\n  };\n  const stopTimer = async () => {\n    if (!runningEntry) return;\n    try {\n      await axios.post(`/time-entries/${runningEntry._id}/stop`);\n      setIsRunning(false);\n      setRunningEntry(null);\n      setElapsedTime(0);\n      setFormData({\n        project: '',\n        task: '',\n        description: ''\n      });\n      toast.success('Timer stopped!');\n    } catch (error) {\n      toast.error('Failed to stop timer');\n      console.error('Error stopping timer:', error);\n    }\n  };\n  const updateDescription = async () => {\n    if (!runningEntry) return;\n    try {\n      await axios.put(`/time-entries/${runningEntry._id}`, {\n        description: formData.description\n      });\n      toast.success('Description updated!');\n    } catch (error) {\n      toast.error('Failed to update description');\n      console.error('Error updating description:', error);\n    }\n  };\n  const startBreak = async () => {\n    if (!runningEntry) {\n      toast.error('No active timer to start break on');\n      return;\n    }\n    try {\n      const response = await axios.post('/breaks/start', {\n        timeEntryId: runningEntry._id,\n        breakType: breakType\n      });\n      setActiveBreak(response.data);\n      toast.success(`${breakType.charAt(0).toUpperCase() + breakType.slice(1)} break started!`);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to start break');\n      console.error('Error starting break:', error);\n    }\n  };\n  const endBreak = async () => {\n    if (!activeBreak) return;\n    try {\n      await axios.put(`/breaks/end/${activeBreak._id}`);\n      setActiveBreak(null);\n      toast.success('Break ended!');\n    } catch (error) {\n      toast.error('Failed to end break');\n      console.error('Error ending break:', error);\n    }\n  };\n  const formatTime = seconds => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    const secs = seconds % 60;\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  const handleFormChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    if (field === 'description' && runningEntry) {\n      // Debounce description updates\n      clearTimeout(window.descriptionTimeout);\n      window.descriptionTimeout = setTimeout(updateDescription, 1000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(TimerContainer, {\n    children: /*#__PURE__*/_jsxDEV(TimerCard, {\n      children: [/*#__PURE__*/_jsxDEV(TimerDisplay, {\n        isRunning: isRunning,\n        children: formatTime(elapsedTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TimerControls, {\n        children: /*#__PURE__*/_jsxDEV(ControlButton, {\n          className: \"primary\",\n          isRunning: isRunning,\n          onClick: isRunning ? stopTimer : startTimer,\n          disabled: !isRunning && !formData.project,\n          children: isRunning ? /*#__PURE__*/_jsxDEV(FiPause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(FiPlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), runningEntry && /*#__PURE__*/_jsxDEV(CurrentActivity, {\n        children: [/*#__PURE__*/_jsxDEV(ActivityTitle, {\n          children: [/*#__PURE__*/_jsxDEV(FiClock, {\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this), \"Currently tracking: \", (_runningEntry$project = runningEntry.project) === null || _runningEntry$project === void 0 ? void 0 : _runningEntry$project.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ActivityMeta, {\n          children: [((_runningEntry$task = runningEntry.task) === null || _runningEntry$task === void 0 ? void 0 : _runningEntry$task.name) && `Task: ${runningEntry.task.name} • `, \"Started: \", new Date(runningEntry.startTime).toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TimerForm, {\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Project *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: formData.project,\n            onChange: e => handleFormChange('project', e.target.value),\n            disabled: isRunning,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), projects.map(project => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: project._id,\n              children: project.name\n            }, project._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Task (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: formData.task,\n            onChange: e => handleFormChange('task', e.target.value),\n            disabled: isRunning || !formData.project,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), tasks.map(task => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: task._id,\n              children: task.name\n            }, task._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            value: formData.description,\n            onChange: e => handleFormChange('description', e.target.value),\n            placeholder: \"What are you working on?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 429,\n    columnNumber: 5\n  }, this);\n};\n_s(Timer, \"+YL4RlqP2r9YA4L+e+NxhwB9GT8=\");\n_c12 = Timer;\nexport default Timer;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"TimerContainer\");\n$RefreshReg$(_c2, \"TimerCard\");\n$RefreshReg$(_c3, \"TimerDisplay\");\n$RefreshReg$(_c4, \"TimerControls\");\n$RefreshReg$(_c5, \"ControlButton\");\n$RefreshReg$(_c6, \"TimerForm\");\n$RefreshReg$(_c7, \"FormGroup\");\n$RefreshReg$(_c8, \"Label\");\n$RefreshReg$(_c9, \"Select\");\n$RefreshReg$(_c0, \"Textarea\");\n$RefreshReg$(_c1, \"CurrentActivity\");\n$RefreshReg$(_c10, \"ActivityTitle\");\n$RefreshReg$(_c11, \"ActivityMeta\");\n$RefreshReg$(_c12, \"Timer\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiPlay","FiPause","FiSquare","FiClock","FiCoffee","FiCheckCircle","axios","toast","jsxDEV","_jsxDEV","TimerContainer","div","_c","TimerCard","_c2","TimerDisplay","props","isRunning","_c3","TimerControls","_c4","ControlButton","button","_c5","TimerForm","_c6","FormGroup","_c7","Label","label","_c8","Select","select","_c9","Input","input","Textarea","textarea","_c0","CurrentActivity","_c1","ActivityTitle","_c10","ActivityMeta","_c11","BreakCard","isOnBreak","BreakControls","BreakButton","BreakTypeSelect","BreakStatus","Timer","_s","_runningEntry$project","_runningEntry$task","setIsRunning","elapsedTime","setElapsedTime","runningEntry","setRunningEntry","projects","setProjects","tasks","setTasks","activeBreak","setActiveBreak","breakType","setBreakType","formData","setFormData","project","task","description","fetchProjects","checkRunningTimer","checkActiveBreak","fetchTasks","interval","setInterval","startTime","Date","now","Math","floor","clearInterval","response","get","data","error","console","projectId","_response$data$task","_id","startTimer","post","toISOString","duration","success","stopTimer","updateDescription","put","startBreak","timeEntryId","charAt","toUpperCase","slice","_error$response","_error$response$data","message","endBreak","formatTime","seconds","hours","minutes","secs","toString","padStart","handleFormChange","field","value","prev","clearTimeout","window","descriptionTimeout","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","disabled","style","marginRight","name","toLocaleTimeString","onChange","e","target","map","placeholder","_c12","$RefreshReg$"],"sources":["C:/Users/gites/Desktop/time Machine/time-tracker/frontend/src/components/timer/Timer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FiPlay, FiPause, FiSquare, FiClock, FiCoffee, FiCheckCircle } from 'react-icons/fi';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst TimerContainer = styled.div`\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst TimerCard = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  padding: 48px;\r\n  text-align: center;\r\n  margin-bottom: 32px;\r\n`;\r\n\r\nconst TimerDisplay = styled.div`\r\n  font-size: 4rem;\r\n  font-weight: 700;\r\n  color: ${props => props.isRunning ? '#28a745' : '#2c3e50'};\r\n  font-family: 'Courier New', monospace;\r\n  margin-bottom: 32px;\r\n  letter-spacing: 2px;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 3rem;\r\n  }\r\n`;\r\n\r\nconst TimerControls = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 16px;\r\n  margin-bottom: 32px;\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  width: 64px;\r\n  height: 64px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  font-size: 24px;\r\n\r\n  &.primary {\r\n    background: ${props => props.isRunning ? '#dc3545' : '#28a745'};\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: ${props => props.isRunning ? '#c82333' : '#218838'};\r\n      transform: scale(1.05);\r\n    }\r\n  }\r\n\r\n  &.secondary {\r\n    background: #6c757d;\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: #5a6268;\r\n      transform: scale(1.05);\r\n    }\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst TimerForm = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: #374151;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  padding: 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  background: white;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #3498db;\r\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #3498db;\r\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\r\n  }\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  padding: 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  resize: vertical;\r\n  min-height: 80px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #3498db;\r\n    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\r\n  }\r\n`;\r\n\r\nconst CurrentActivity = styled.div`\r\n  background: #e3f2fd;\r\n  border: 1px solid #2196f3;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 24px;\r\n  text-align: left;\r\n`;\r\n\r\nconst ActivityTitle = styled.div`\r\n  font-weight: 600;\r\n  color: #1976d2;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ActivityMeta = styled.div`\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst BreakCard = styled.div`\r\n  background: ${props => props.isOnBreak ? '#fff3cd' : '#f8f9fa'};\r\n  border: 1px solid ${props => props.isOnBreak ? '#ffeaa7' : '#e9ecef'};\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 24px;\r\n  text-align: left;\r\n`;\r\n\r\nconst BreakControls = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 16px;\r\n  align-items: center;\r\n`;\r\n\r\nconst BreakButton = styled.button`\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n\r\n  &.start-break {\r\n    background: #ff6b35;\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: #e55a2b;\r\n    }\r\n  }\r\n\r\n  &.end-break {\r\n    background: #28a745;\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: #218838;\r\n    }\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst BreakTypeSelect = styled.select`\r\n  padding: 8px 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  background: white;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #3498db;\r\n  }\r\n`;\r\n\r\nconst BreakStatus = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-weight: 500;\r\n  color: ${props => props.isOnBreak ? '#d68910' : '#28a745'};\r\n`;\r\n\r\nconst Timer = () => {\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [elapsedTime, setElapsedTime] = useState(0);\r\n  const [runningEntry, setRunningEntry] = useState(null);\r\n  const [projects, setProjects] = useState([]);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [activeBreak, setActiveBreak] = useState(null);\r\n  const [breakType, setBreakType] = useState('other');\r\n  const [formData, setFormData] = useState({\r\n    project: '',\r\n    task: '',\r\n    description: ''\r\n  });\r\n  useEffect(() => {\r\n    fetchProjects();\r\n    checkRunningTimer();\r\n    checkActiveBreak();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (formData.project) {\r\n      fetchTasks(formData.project);\r\n    } else {\r\n      setTasks([]);\r\n    }\r\n  }, [formData.project]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRunning && runningEntry) {\r\n      interval = setInterval(() => {\r\n        const startTime = new Date(runningEntry.startTime);\r\n        const now = new Date();\r\n        setElapsedTime(Math.floor((now - startTime) / 1000));\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRunning, runningEntry]);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await axios.get('/projects');\r\n      setProjects(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n    }\r\n  };\r\n\r\n  const fetchTasks = async (projectId) => {\r\n    try {\r\n      const response = await axios.get(`/tasks?project=${projectId}`);\r\n      setTasks(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n    }\r\n  };\r\n  const checkRunningTimer = async () => {\r\n    try {\r\n      const response = await axios.get('/time-entries/running');\r\n      if (response.data) {\r\n        setRunningEntry(response.data);\r\n        setIsRunning(true);\r\n        const startTime = new Date(response.data.startTime);\r\n        const now = new Date();\r\n        setElapsedTime(Math.floor((now - startTime) / 1000));\r\n        \r\n        // Populate form with running entry data\r\n        setFormData({\r\n          project: response.data.project._id,\r\n          task: response.data.task?._id || '',\r\n          description: response.data.description || ''\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // No running timer\r\n    }\r\n  };\r\n\r\n  const checkActiveBreak = async () => {\r\n    try {\r\n      const response = await axios.get('/breaks/active');\r\n      setActiveBreak(response.data);\r\n    } catch (error) {\r\n      // No active break\r\n    }\r\n  };\r\n\r\n  const startTimer = async () => {\r\n    if (!formData.project) {\r\n      toast.error('Please select a project');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('/time-entries', {\r\n        project: formData.project,\r\n        task: formData.task || null,\r\n        description: formData.description,\r\n        startTime: new Date().toISOString(),\r\n        duration: 0\r\n      });\r\n\r\n      setRunningEntry(response.data);\r\n      setIsRunning(true);\r\n      setElapsedTime(0);\r\n      toast.success('Timer started!');\r\n    } catch (error) {\r\n      toast.error('Failed to start timer');\r\n      console.error('Error starting timer:', error);\r\n    }\r\n  };\r\n\r\n  const stopTimer = async () => {\r\n    if (!runningEntry) return;\r\n\r\n    try {\r\n      await axios.post(`/time-entries/${runningEntry._id}/stop`);\r\n      setIsRunning(false);\r\n      setRunningEntry(null);\r\n      setElapsedTime(0);\r\n      setFormData({ project: '', task: '', description: '' });\r\n      toast.success('Timer stopped!');\r\n    } catch (error) {\r\n      toast.error('Failed to stop timer');\r\n      console.error('Error stopping timer:', error);\r\n    }\r\n  };\r\n  const updateDescription = async () => {\r\n    if (!runningEntry) return;\r\n\r\n    try {\r\n      await axios.put(`/time-entries/${runningEntry._id}`, {\r\n        description: formData.description\r\n      });\r\n      toast.success('Description updated!');\r\n    } catch (error) {\r\n      toast.error('Failed to update description');\r\n      console.error('Error updating description:', error);\r\n    }\r\n  };\r\n\r\n  const startBreak = async () => {\r\n    if (!runningEntry) {\r\n      toast.error('No active timer to start break on');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post('/breaks/start', {\r\n        timeEntryId: runningEntry._id,\r\n        breakType: breakType\r\n      });\r\n      setActiveBreak(response.data);\r\n      toast.success(`${breakType.charAt(0).toUpperCase() + breakType.slice(1)} break started!`);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to start break');\r\n      console.error('Error starting break:', error);\r\n    }\r\n  };\r\n\r\n  const endBreak = async () => {\r\n    if (!activeBreak) return;\r\n\r\n    try {\r\n      await axios.put(`/breaks/end/${activeBreak._id}`);\r\n      setActiveBreak(null);\r\n      toast.success('Break ended!');\r\n    } catch (error) {\r\n      toast.error('Failed to end break');\r\n      console.error('Error ending break:', error);\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = seconds % 60;\r\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleFormChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n\r\n    if (field === 'description' && runningEntry) {\r\n      // Debounce description updates\r\n      clearTimeout(window.descriptionTimeout);\r\n      window.descriptionTimeout = setTimeout(updateDescription, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TimerContainer>\r\n      <TimerCard>\r\n        <TimerDisplay isRunning={isRunning}>\r\n          {formatTime(elapsedTime)}\r\n        </TimerDisplay>\r\n\r\n        <TimerControls>\r\n          <ControlButton\r\n            className=\"primary\"\r\n            isRunning={isRunning}\r\n            onClick={isRunning ? stopTimer : startTimer}\r\n            disabled={!isRunning && !formData.project}\r\n          >\r\n            {isRunning ? <FiPause /> : <FiPlay />}\r\n          </ControlButton>\r\n        </TimerControls>\r\n\r\n        {runningEntry && (\r\n          <CurrentActivity>\r\n            <ActivityTitle>\r\n              <FiClock style={{ marginRight: '8px' }} />\r\n              Currently tracking: {runningEntry.project?.name}\r\n            </ActivityTitle>\r\n            <ActivityMeta>\r\n              {runningEntry.task?.name && `Task: ${runningEntry.task.name} • `}\r\n              Started: {new Date(runningEntry.startTime).toLocaleTimeString()}\r\n            </ActivityMeta>\r\n          </CurrentActivity>\r\n        )}\r\n\r\n        <TimerForm>\r\n          <FormGroup>\r\n            <Label>Project *</Label>\r\n            <Select\r\n              value={formData.project}\r\n              onChange={(e) => handleFormChange('project', e.target.value)}\r\n              disabled={isRunning}\r\n            >\r\n              <option value=\"\">Select a project</option>\r\n              {projects.map(project => (\r\n                <option key={project._id} value={project._id}>\r\n                  {project.name}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Task (Optional)</Label>\r\n            <Select\r\n              value={formData.task}\r\n              onChange={(e) => handleFormChange('task', e.target.value)}\r\n              disabled={isRunning || !formData.project}\r\n            >\r\n              <option value=\"\">Select a task</option>\r\n              {tasks.map(task => (\r\n                <option key={task._id} value={task._id}>\r\n                  {task.name}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Description</Label>\r\n            <Textarea\r\n              value={formData.description}\r\n              onChange={(e) => handleFormChange('description', e.target.value)}\r\n              placeholder=\"What are you working on?\"\r\n            />\r\n          </FormGroup>\r\n        </TimerForm>\r\n      </TimerCard>\r\n    </TimerContainer>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}